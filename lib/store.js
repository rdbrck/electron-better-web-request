"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const electron_better_web_request_1 = tslib_1.__importDefault(require("./electron-better-web-request"));
const store = new Set();
const enhanceWebRequest = (session) => {
    if (store.has(session)) {
        return session;
    }
    Object.defineProperty(session, 'webRequest', {
        value: electron_better_web_request_1.default(session),
        writable: false,
    });
    store.add(session);
    return session;
};
exports.default = enhanceWebRequest;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc3RvcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsd0dBQTZEO0FBRTdELE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFFeEIsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLE9BQWdCLEVBQVcsRUFBRTtJQUN0RCxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDdEIsT0FBTyxPQUFPLENBQUM7S0FDaEI7SUFFRCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUU7UUFDM0MsS0FBSyxFQUFFLHFDQUFnQixDQUFDLE9BQU8sQ0FBQztRQUNoQyxRQUFRLEVBQUUsS0FBSztLQUNoQixDQUFDLENBQUM7SUFFSCxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRW5CLE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQztBQUVGLGtCQUFlLGlCQUFpQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gJ2VsZWN0cm9uJztcblxuaW1wb3J0IGJldHRlcldlYlJlcXVlc3QgZnJvbSAnLi9lbGVjdHJvbi1iZXR0ZXItd2ViLXJlcXVlc3QnO1xuXG5jb25zdCBzdG9yZSA9IG5ldyBTZXQoKTtcblxuY29uc3QgZW5oYW5jZVdlYlJlcXVlc3QgPSAoc2Vzc2lvbjogU2Vzc2lvbik6IFNlc3Npb24gPT4ge1xuICBpZiAoc3RvcmUuaGFzKHNlc3Npb24pKSB7XG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2Vzc2lvbiwgJ3dlYlJlcXVlc3QnLCB7XG4gICAgdmFsdWU6IGJldHRlcldlYlJlcXVlc3Qoc2Vzc2lvbiksXG4gICAgd3JpdGFibGU6IGZhbHNlLFxuICB9KTtcblxuICBzdG9yZS5hZGQoc2Vzc2lvbik7XG5cbiAgcmV0dXJuIHNlc3Npb247XG59O1xuXG5leHBvcnQgZGVmYXVsdCBlbmhhbmNlV2ViUmVxdWVzdDtcbiJdfQ==